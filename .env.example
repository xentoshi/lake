# =============================================================================
# Lake Development Environment Configuration
# =============================================================================
# Copy this file to .env and fill in the values.
# Run ./scripts/dev-setup.sh to set up the local development environment.

# -----------------------------------------------------------------------------
# GeoIP Databases (required for indexer)
# -----------------------------------------------------------------------------
# MaxMind GeoLite2 databases for IP geolocation.
# Run ./scripts/dev-setup.sh to download these automatically.
GEOIP_CITY_DB_PATH=.tmp/geoip/GeoLite2-City.mmdb
GEOIP_ASN_DB_PATH=.tmp/geoip/GeoLite2-ASN.mmdb

# -----------------------------------------------------------------------------
# InfluxDB (optional, for indexer metrics source)
# -----------------------------------------------------------------------------
# Only needed if ingesting telemetry data from InfluxDB.
INFLUX_URL=
INFLUX_TOKEN=
INFLUX_BUCKET=

# -----------------------------------------------------------------------------
# ClickHouse (required)
# -----------------------------------------------------------------------------
# Primary data store for analytics. Started by docker compose.
# Default port 9100 is mapped from container's 9000 to avoid conflicts.
CLICKHOUSE_ADDR_TCP=localhost:9100
CLICKHOUSE_DATABASE=default
CLICKHOUSE_USERNAME=default
CLICKHOUSE_PASSWORD=

# -----------------------------------------------------------------------------
# PostgreSQL (required)
# -----------------------------------------------------------------------------
# Stores user sessions, auth state, and workflow persistence.
# Started by docker compose.
POSTGRES_RUN_MIGRATIONS=true
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_DB=lakedev
POSTGRES_USER=lakedev
POSTGRES_PASSWORD=lakedev

# -----------------------------------------------------------------------------
# Neo4j (optional, for topology graph queries)
# -----------------------------------------------------------------------------
# Graph database for network topology analysis.
# Started by docker compose, but not required for basic functionality.
NEO4J_URI=bolt://localhost:7687
NEO4J_USERNAME=neo4j
NEO4J_PASSWORD=password
NEO4J_DATABASE=neo4j

# -----------------------------------------------------------------------------
# Slack Bot (optional)
# -----------------------------------------------------------------------------
# Only needed if running the Slack bot integration.
SLACK_BOT_TOKEN=xoxb-
SLACK_APP_TOKEN=xapp-

# -----------------------------------------------------------------------------
# Anthropic (required for AI agent)
# -----------------------------------------------------------------------------
# Powers the natural language SQL generation agent.
# Get an API key at https://console.anthropic.com/
ANTHROPIC_API_KEY=

# -----------------------------------------------------------------------------
# Solana (optional, for validator data)
# -----------------------------------------------------------------------------
# RPC endpoint for fetching Solana validator information.
SOLANA_RPC_URL=https://api.mainnet-beta.solana.com

# -----------------------------------------------------------------------------
# Usage Quotas (production only)
# -----------------------------------------------------------------------------
# Rate limiting based on wallet SOL balance.
MIN_SOL_THRESHOLD=1.0
WALLET_PREMIUM_LIMIT=25

# -----------------------------------------------------------------------------
# Authentication (required for production)
# -----------------------------------------------------------------------------
# Google OAuth client ID for user authentication.
# AUTH_ALLOWED_DOMAINS restricts sign-in to specific email domains.
GOOGLE_CLIENT_ID=472508936752-rl4gvm1a7k0eihcmsgq4aqoqr828js8n.apps.googleusercontent.com
AUTH_ALLOWED_DOMAINS=doublezero.xyz,doublezero.us,malbeclabs.com

# -----------------------------------------------------------------------------
# Static Assets (production only)
# -----------------------------------------------------------------------------
# S3 bucket for serving old static assets during rolling deployments.
# Prevents 404s when users have cached HTML referencing old JS/CSS bundles.
#
# WEB_DIST_DIR - Local path to web assets (default: /doublezero/web/dist)
# ASSET_BUCKET_URL - Public URL to fetch missing assets from S3
# ASSET_BUCKET - Bucket name for upload script
#
# WEB_DIST_DIR=/doublezero/web/dist
ASSET_BUCKET_URL=https://malbeclabs-lake-app-web-assets.s3.amazonaws.com/assets
ASSET_BUCKET=malbeclabs-lake-app-web-assets
